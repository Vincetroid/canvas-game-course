<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        canvas { background-color: aqua }
    </style>
</head>
<body>
    <canvas id="my_canvas"></canvas>
<script>

    const canvas = document.getElementById('my_canvas');
    const context = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

////////////////////////////////////////////////////////////////////
//
// QUIZ
// 
// You are given two functions, onMouseMove and onKeyDown to use for 
// event handling. Attach the 'mousemove' and 'keydown' events to the 
// canvas DOM element.
// After that, return the values as specified below.
// 
// If you are interested, try using console.log to print out the
// position of the onmousemove event and the ID of the key pressed,
// then look at it in the Developer Tools.
// 
// You can assume that our canvas element has an ID of 'my_canvas'.
//
// QUIZ
// 
// Create a 256 element array named 'keyState', then specify the onKeyUp
// function as the event handler for the 'keyup' event. In the onKeyDown 
// and onKeyUp functions, modify the keyState array to keep track of which 
// keys are currently being pressed.
// You can assume that our canvas element has an ID of 'my_canvas'.
//
////////////////////////////////////////////////////////////////////

var keyState = [256];

function setup() {
	// TASK #1
	// Specify the event handler for the 'mousemove' and 'keydown' events.
	// Remember that you can grab a DOM element using the document.getElementByID
	// method, and that the syntax for the addEventHandler method is:
	//
	// DOMElement.addEventHandler('event name', eventHandlerFunction);
    //
    
	
	document.getElementById('my_canvas').addEventListener('mousemove', onMouseMove);
	window.addEventListener('keydown', onKeyDown);
	window.addEventListener('keyup', onKeyUp);
}

function onMouseMove(event) {
	// TASK #2
	// Grab the clientX and clientY properties of the event object parameter.
	// Make sure you use the clientX and clientY values, as they are canvas translated.
	// After that, return the posx value.
	//
	
	const posX = event.clientX;
	const posY = event.clientY;
	
	console.log(posX, posY);
	
	return posX;

}

function onKeyDown(event) {
    console.log('onkeyDown')
    // TASK #3
    // Grab the keyID property of the event object parameter,
    // then set the equivalent element in the keyState array
    // to true.
    //
    // YOUR CODE HERE
    const keyID = event.keyCode;
    keyState[keyID] = true;
    console.log(event);

    update();
    
}

function onKeyUp(event) {
    console.log('onkeyUp')
    // TASK #4
    // Grab the keyID property of the event object parameter, 
    // then set the equivalent element in the keyState array
    // to false.
    //
    
    //modify the keyState array to keep track of which 
    // keys are currently being pressed.
    const keyID = event.keyCode;
    keyState[keyID] = false;

    update();

}

function update() {
    // 87 is the corresponding ASCII keycode for the key 'w'.
    KeyW = 87;

    if(keyState[KeyW])
        // Drop the beat.
        console.log("FORWARD!!!");
    // etc.
}
    
setup();

</script>
</body>
</html>